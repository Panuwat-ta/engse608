00:00 +0: loading D:/work/Mobile_Application_and_Deverlopment/engse608/lab11/test/widget_test.dart
00:00 +0: (setUpAll)
00:00 +0: App smoke test
ΓòÉΓòÉΓòí EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK Γò₧ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
The following StateError was thrown running a test:
Bad state: databaseFactory not initialized
databaseFactory is only initialized when using sqflite. When using `sqflite_common_ffi`
You must call `databaseFactory = databaseFactoryFfi;` before using global openDatabase API

When the exception was thrown, this was the stack:
#0      databaseFactory.<anonymous closure> (package:sqflite_common/src/sqflite_database_factory.dart:32:7)
#1      databaseFactory (package:sqflite_common/src/sqflite_database_factory.dart:36:6)
#2      getDatabasesPath (package:sqflite_common/sqflite.dart:109:38)
#3      DatabaseHelper._initDB (package:lab11/data/db/database_helper.dart:17:26)
#4      DatabaseHelper.database (package:lab11/data/db/database_helper.dart:12:23)
#5      EventRepository.getEvents (package:lab11/data/repositories/event_repository.dart:19:32)
#6      EventProvider.loadEvents (package:lab11/ui/state/event_provider.dart:41:38)
#7      new EventProvider (package:lab11/ui/state/event_provider.dart:34:5)
#8      main.<anonymous closure>.<anonymous closure> (file:///D:/work/Mobile_Application_and_Deverlopment/engse608/lab11/test/widget_test.dart:29:49)
#9      _CreateInheritedProviderState.value (package:provider/src/inherited_provider.dart:749:36)
#10     _InheritedProviderScopeElement.value (package:provider/src/inherited_provider.dart:603:33)
#11     Provider.of (package:provider/src/provider.dart:337:37)
#12     Consumer2.buildWithChild (package:provider/src/consumer.dart:208:16)
#13     SingleChildStatelessWidget.build (package:nested/nested.dart:259:41)
#14     StatelessElement.build (package:flutter/src/widgets/framework.dart:5889:49)
#15     SingleChildStatelessElement.build (package:nested/nested.dart:279:18)
#16     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5817:15)
#17     Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#18     ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5799:5)
#19     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5793:5)
#20     SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
...     Normal element mounting (7 frames)
#27     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4587:20)
#28     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7264:36)
#29     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7279:32)
...     Normal element mounting (25 frames)
#54     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4587:20)
#55     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7264:36)
#56     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7279:32)
...     Normal element mounting (372 frames)
#428    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4587:20)
#429    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7264:36)
#430    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7279:32)
...     Normal element mounting (462 frames)
#892    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:424:11)
...     Normal element mounting (7 frames)
#899    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:424:11)
...     Normal element mounting (7 frames)
#906    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
...     Normal element mounting (7 frames)
#913    _NestedHookElement.mount (package:nested/nested.dart:187:11)
...     Normal element mounting (7 frames)
#920    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
#921    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4587:20)
#922    Element.updateChild (package:flutter/src/widgets/framework.dart:4053:20)
#923    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#924    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#925    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#926    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#927    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#928    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#929    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#930    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#931    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#932    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#933    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#934    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#935    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#936    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#937    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#938    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#939    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#940    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#941    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#942    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#943    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#944    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#945    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#946    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#947    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#948    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#949    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#950    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#951    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#952    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#953    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#954    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#955    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#956    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#957    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#958    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#959    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#960    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#961    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#962    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#963    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#964    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#965    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#966    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#967    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#968    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#969    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#970    StatelessElement.update (package:flutter/src/widgets/framework.dart:5895:5)
#971    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#972    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#973    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#974    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#975    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#976    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#977    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1822:16)
#978    RootElement.update (package:flutter/src/widgets/binding.dart:1800:5)
#979    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1814:7)
#980    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#981    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2750:15)
#982    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2807:11)
#983    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3111:18)
#984    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:2131:19)
#985    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#986    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1430:15)
#987    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1345:9)
#988    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1960:9)
#991    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#992    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1949:27)
#993    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#996    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#997    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#998    main.<anonymous closure> (file:///D:/work/Mobile_Application_and_Deverlopment/engse608/lab11/test/widget_test.dart:25:18)
#999    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#1000   TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1682:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The test description was:
  App smoke test
ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
00:00 +0 -1: App smoke test [E]
  Test failed. See exception logs above.
  The test description was: App smoke test
  
ΓòÉΓòÉΓòí EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK Γò₧ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
The following StateError was thrown running a test (but after the test had completed):
Bad state: databaseFactory not initialized
databaseFactory is only initialized when using sqflite. When using `sqflite_common_ffi`
You must call `databaseFactory = databaseFactoryFfi;` before using global openDatabase API

When the exception was thrown, this was the stack:
#0      databaseFactory.<anonymous closure> (package:sqflite_common/src/sqflite_database_factory.dart:32:7)
#1      databaseFactory (package:sqflite_common/src/sqflite_database_factory.dart:36:6)
#2      getDatabasesPath (package:sqflite_common/sqflite.dart:109:38)
#3      DatabaseHelper._initDB (package:lab11/data/db/database_helper.dart:17:26)
#4      DatabaseHelper.database (package:lab11/data/db/database_helper.dart:12:23)
#5      CategoryRepository.getCategories (package:lab11/data/repositories/category_repository.dart:13:32)
#6      CategoryProvider.loadCategories (package:lab11/ui/state/category_provider.dart:21:37)
#7      new CategoryProvider (package:lab11/ui/state/category_provider.dart:14:5)
#8      main.<anonymous closure>.<anonymous closure> (file:///D:/work/Mobile_Application_and_Deverlopment/engse608/lab11/test/widget_test.dart:28:49)
#9      _CreateInheritedProviderState.value (package:provider/src/inherited_provider.dart:749:36)
#10     _InheritedProviderScopeElement.value (package:provider/src/inherited_provider.dart:603:33)
#11     Provider.of (package:provider/src/provider.dart:337:37)
#12     Consumer2.buildWithChild (package:provider/src/consumer.dart:209:16)
#13     SingleChildStatelessWidget.build (package:nested/nested.dart:259:41)
#14     StatelessElement.build (package:flutter/src/widgets/framework.dart:5889:49)
#15     SingleChildStatelessElement.build (package:nested/nested.dart:279:18)
#16     ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5817:15)
#17     Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#18     ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5799:5)
#19     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5793:5)
#20     SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
...     Normal element mounting (7 frames)
#27     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4587:20)
#28     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7264:36)
#29     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7279:32)
...     Normal element mounting (25 frames)
#54     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4587:20)
#55     MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7264:36)
#56     MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7279:32)
...     Normal element mounting (372 frames)
#428    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4587:20)
#429    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7264:36)
#430    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7279:32)
...     Normal element mounting (462 frames)
#892    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:424:11)
...     Normal element mounting (7 frames)
#899    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:424:11)
...     Normal element mounting (7 frames)
#906    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
...     Normal element mounting (7 frames)
#913    _NestedHookElement.mount (package:nested/nested.dart:187:11)
...     Normal element mounting (7 frames)
#920    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
#921    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4587:20)
#922    Element.updateChild (package:flutter/src/widgets/framework.dart:4053:20)
#923    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#924    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#925    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#926    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#927    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#928    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#929    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#930    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#931    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#932    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#933    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#934    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#935    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#936    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#937    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#938    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#939    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#940    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#941    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#942    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#943    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#944    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#945    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#946    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#947    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#948    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#949    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#950    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#951    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#952    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#953    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#954    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#955    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#956    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#957    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#958    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#959    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#960    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#961    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#962    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#963    ProxyElement.update (package:flutter/src/widgets/framework.dart:6149:5)
#964    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#965    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#966    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#967    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#968    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#969    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#970    StatelessElement.update (package:flutter/src/widgets/framework.dart:5895:5)
#971    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#972    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5841:16)
#973    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5982:11)
#974    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#975    StatefulElement.update (package:flutter/src/widgets/framework.dart:6007:5)
#976    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#977    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1822:16)
#978    RootElement.update (package:flutter/src/widgets/binding.dart:1800:5)
#979    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1814:7)
#980    Element.rebuild (package:flutter/src/widgets/framework.dart:5529:7)
#981    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2750:15)
#982    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2807:11)
#983    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3111:18)
#984    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:2131:19)
#985    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#986    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1430:15)
#987    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1345:9)
#988    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1960:9)
#991    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#992    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1949:27)
#993    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#996    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#997    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#998    main.<anonymous closure> (file:///D:/work/Mobile_Application_and_Deverlopment/engse608/lab11/test/widget_test.dart:25:18)
#999    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#1000   TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1682:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
  Test failed. See exception logs above.
  The test description was: App smoke test
  
ΓòÉΓòÉΓòí EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK Γò₧ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
The following StateError was thrown running a test (but after the test had completed):
Bad state: databaseFactory not initialized
databaseFactory is only initialized when using sqflite. When using `sqflite_common_ffi`
You must call `databaseFactory = databaseFactoryFfi;` before using global openDatabase API

When the exception was thrown, this was the stack:
#0      databaseFactory.<anonymous closure> (package:sqflite_common/src/sqflite_database_factory.dart:32:7)
#1      databaseFactory (package:sqflite_common/src/sqflite_database_factory.dart:36:6)
#2      getDatabasesPath (package:sqflite_common/sqflite.dart:109:38)
#3      DatabaseHelper._initDB (package:lab11/data/db/database_helper.dart:17:26)
#4      DatabaseHelper.database (package:lab11/data/db/database_helper.dart:12:23)
#5      CategoryRepository.getCategories (package:lab11/data/repositories/category_repository.dart:13:32)
#6      CategoryProvider.loadCategories (package:lab11/ui/state/category_provider.dart:21:37)
#7      _HomeScreenState.initState.<anonymous closure> (package:lab11/ui/screens/home_screen.dart:24:40)
#8      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1430:15)
#9      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1357:11)
#10     AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1960:9)
#13     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#14     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1949:27)
#15     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#18     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#19     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#20     main.<anonymous closure> (file:///D:/work/Mobile_Application_and_Deverlopment/engse608/lab11/test/widget_test.dart:25:18)
#21     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#22     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1682:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
  Test failed. See exception logs above.
  The test description was: App smoke test
  
ΓòÉΓòÉΓòí EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK Γò₧ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
The following StateError was thrown running a test (but after the test had completed):
Bad state: databaseFactory not initialized
databaseFactory is only initialized when using sqflite. When using `sqflite_common_ffi`
You must call `databaseFactory = databaseFactoryFfi;` before using global openDatabase API

When the exception was thrown, this was the stack:
#0      databaseFactory.<anonymous closure> (package:sqflite_common/src/sqflite_database_factory.dart:32:7)
#1      databaseFactory (package:sqflite_common/src/sqflite_database_factory.dart:36:6)
#2      getDatabasesPath (package:sqflite_common/sqflite.dart:109:38)
#3      DatabaseHelper._initDB (package:lab11/data/db/database_helper.dart:17:26)
#4      DatabaseHelper.database (package:lab11/data/db/database_helper.dart:12:23)
#5      EventRepository.getEvents (package:lab11/data/repositories/event_repository.dart:19:32)
#6      EventProvider.loadEvents (package:lab11/ui/state/event_provider.dart:41:38)
#7      _HomeScreenState.initState.<anonymous closure> (package:lab11/ui/screens/home_screen.dart:25:37)
#8      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1430:15)
#9      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1357:11)
#10     AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1960:9)
#13     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#14     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1949:27)
#15     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#18     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#19     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#20     main.<anonymous closure> (file:///D:/work/Mobile_Application_and_Deverlopment/engse608/lab11/test/widget_test.dart:25:18)
#21     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#22     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1682:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
  Test failed. See exception logs above.
  The test description was: App smoke test
  
00:00 +0 -1: (tearDownAll)
00:01 +0 -1: Some tests failed.
